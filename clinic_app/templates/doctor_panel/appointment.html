{% set title = 'Appointment' %}


{% extends 'doctor_panel/base.html' -%}

{%- from 'macros.html' import render_field -%}

{%- block header %}
{{ 'View' if filled else 'Fill out'}} appointment info
{%- endblock %}

{%- block body %}
<div class="info-block">
    <div class="info-item">
        <form method="post" class="common-form">
            <div class="field-container">
                <label>Doctor's full name:</label>
                <span>{{ item.doctor.full_name}}</span>
            </div>
            <div class="field-container">
                <label>Patient's full name:</label>
                <span>{{ item.patient.full_name}}</span>
            </div>
            {{ form.hidden_tag() }}
            {%- set kwargs = {'readonly': ''} if filled else {} %}
            {{ render_field(form.date, {'readonly': ''}) }}
            {{ render_field(form.time, {'readonly': ''}) }}
            {{ render_field(form.conclusion, kwargs) }}
            {{ render_field(form.prescription, kwargs) }}
            {{ render_field(form.bill, kwargs) }}
            {%- if not filled %}
            <div class="submit-in-end">
                <input id="submit" name="submit" type="button" value="Save changes">

            </div>
            {%- endif %}
        </form>
    </div>
</div>
{% endblock %}